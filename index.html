<!DOCTYPE html>
<html>
  <head>
    <title>Left Right Game</title>
  </head>
  <body>
    <h1>Left Right Game</h1>
    <p>Click on the button that corresponds to the direction shown.</p>
    <button id="left" onclick="checkAnswer('left')" disabled>LEFT</button>
    <button id="right" onclick="checkAnswer('right')" disabled>RIGHT</button>
    <p>Score: <span id="score">0</span></p>
    <script>
      let score = 0;
      let timer;
      let correct;

      function startGame() {
        score = 0;
        document.querySelector("#score").textContent = score;
        startRound();
      }

      function startRound() {
        document.querySelector("#left").disabled = false; // 左ボタンを有効化
        document.querySelector("#right").disabled = false; // 右ボタンを有効化
        const directions = ["left", "right"];
        correct = directions[Math.floor(Math.random() * 2)];
        document.querySelector("#" + correct).textContent = "CENTER";
        timer = setTimeout(function() {
          endGame(false);
        }, 1000);
      }

      function endGame(timeout) {
        clearTimeout(timer);
        document.querySelector("#" + correct).textContent = correct.toUpperCase();
        document.querySelector("#left").disabled = true; // 左ボタンを無効化
        document.querySelector("#right").disabled = true; // 右ボタンを無効化
        alert("Game over! " + (timeout ? "Time's up!" : "Wrong answer!"));
      }

      function checkAnswer(answer) {
        clearTimeout(timer);
        if (answer === correct) {
          score++;
          document.querySelector("#score").textContent = score;
        }
        document.querySelector("#left").disabled = true; // 左ボタンを無効化
        document.querySelector("#right").disabled = true; // 右ボタンを無効化
        setTimeout(startRound, 1000);
      }

      startGame();
    </script>
  </body>
</html>
